<!DOCTYPE html>
<html>
<%- include('header'); -%>
  <body>
    <%- include('navbar') -%>
    <div class="form-div">
      <%- include('form_error') -%>
      <form class="login-form" autocomplete="off" action="/register" method="post">
        <label for="email">Email :</label><br>
        <input type="text" name="email" required id="email-input" value=""><br>
        <label for="username">Username :</label><br>
        <input type="text" required name="username" value=""><br>
        <label for="pwd">Password :</label><br>
        <div class="pwd-input-div">
          <input type="password" required name="pwd" id="password">
          <i class="far fa-eye" id="togglePassword" style="margin-left: -1.5em; cursor: pointer;"></i><br>
        </div>
        <label for="pwd-confirm">Confirm Password :</label>
        <div class="pwd-input-div">
          <input type="password" required name="pwd_confirm" id="password-confirm">
          <i class="far fa-eye" id="togglePassword-confirm" style="margin-left: -1.5em; cursor: pointer;"></i><br>
        </div>
        <button type="submit" name="submit">Register</button>
      </form>
    </div>
  </body>
  <script type="text/javascript">
    const togglePassword = document.querySelector('#togglePassword');
    const password = document.querySelector('#password');

    const togglePassword_confirm = document.querySelector('#togglePassword-confirm');
    const password_confirm = document.querySelector('#password-confirm');

    togglePassword_confirm.addEventListener('click', (e) => {
      const type = password_confirm.getAttribute('type') === 'password' ? 'text' : 'password';
      password_confirm.setAttribute('type', type)
      this.classList.toggle('fa-eye-slash');
    })

    togglePassword.addEventListener('click', (e) => {
      // toggle the type attribute
   const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
   password.setAttribute('type', type);
   // toggle the eye slash icon
   this.classList.toggle('fa-eye-slash');

 });
  </script>
</html>
